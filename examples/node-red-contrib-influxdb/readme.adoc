= node-red-contrib-influxdb

This is a sample of using node-red-contrib-influxdb to push and graph time metrics.

image:node-red-contrib-influxdb.png[]

== Environment

Build the few dependencies:

    $ docker-compose build

Start the flow:

    $ docker-compose up -d

Stop everything:

    $ docker-compose stop

Cleanup everything (including database):

    $ docker-compose down -v

== Troubleshoot

Here are few command to troubleshoot InfluxDB.

.As CLI
[source,bash]
----
root@bb69221ac8fe:/# influx
Visit https://enterprise.influxdata.com to register for updates, InfluxDB server management, and monitoring.
Connected to http://localhost:8086 version 0.9.6.1
InfluxDB shell 0.9.6.1
> create database SensorData;
...
> show databases;
name: databases
---------------
name
SensorData
telegraf
> 
----

.As curl
[source,bash]
----
$ curl -G http://localhost:8086/query --data-urlencode "q=SHOW DATABASES"
{"results":[{"statement_id":0,"series":[{"name":"databases","columns":["name"],"values":[["telegraf"],["SensorData"]]}]}]}
----

== Resources

* link:https://docs.influxdata.com/influxdb/v1.8/[InfluxDB docs]
* link:https://docs.influxdata.com/influxdb/v1.8/introduction/getting_started/[InfluxDB doc getting started]
* link:https://www.influxdata.com/blog/data-layout-and-schema-design-best-practices-for-influxdb/[InfluxDB schema design]
* link:https://docs.influxdata.com/influxdb/v1.8/query_language/manage-database/[InfluxDB doc database retention]
* link:https://devconnected.com/the-definitive-guide-to-influxdb-in-2019/[InfluxDB learning]
* link:https://flows.nodered.org/node/node-red-contrib-influxdb[Node-Red InfluxDB]
* link:https://hub.docker.com/_/influxdb[Docker image]
